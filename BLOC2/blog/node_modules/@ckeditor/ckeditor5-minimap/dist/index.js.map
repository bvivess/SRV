{"version":3,"sources":["index.js","../src/minimapiframeview.ts","../src/minimappositiontrackerview.ts","../src/minimapview.ts","../src/utils.ts","../src/minimap.ts"],"names":["toPx","toUnit","MinimapIframeView","IframeView","constructor","locale","options","bind","bindTemplate","set","_options","extendTemplate","attributes","tabindex","class","style","top","to","height","render","then","_prepareDocument","setHeight","newHeight","setTopOffset","newOffset","iframeDocument","element","contentWindow","document","domRootClone","adoptNode","boxStyles","useSimplePreview","pageStyles","map","definition","href","join","html","scaleRatio","extraClasses","open","write","close","body","appendChild","MinimapPositionTrackerView","View","setTemplate","tag","if","on","mousedown","_isDragging","listenTo","global","evt","data","fire","movementY","useCapture","setScrollProgress","newProgress","scrollProgress","MinimapView","_positionTrackerView","delegate","_scaleRatio","_minimapIframeView","children","click","_handleMinimapClick","wheel","_handleMinimapMouseWheel","destroy","Rect","scrollHeight","Math","max","min","setContentHeight","newScrollProgress","iframeView","positionTrackerView","totalOffset","round","setPositionTrackerHeight","trackerHeight","target","trackerViewRect","diff","clientY","percentage","deltaY","cloneEditingViewDomRoot","editor","rootName","viewDocument","editing","view","viewRoot","getRoot","domConverter","DomConverter","renderer","Renderer","selection","getDomRoot","cloneNode","bindElements","markToSync","node","unbindDomElement","getPageStyles","Array","from","styleSheets","styleSheet","startsWith","window","location","origin","cssRules","filter","rule","CSSMediaRule","cssText","getDomElementRect","domElement","getClientHeight","innerHeight","clientHeight","getScrollable","Minimap","Plugin","pluginName","_minimapView","_scrollableRootAncestor","ui","_onUiReady","remove","editingRootElement","_editingRootElement","getEditableElement","findClosestScrollableAncestor","ownerDocument","contains","once","_initializeMinimapView","state","_syncMinimapToEditingRootScrollPosition","config","get","minimapContainerElement","scrollableRootAncestor","editingRootElementWidth","width","minimapContainerWidth","minimapScaleRatio","minimapView","usePassive","movementYPercentage","absoluteScrollProgress","scrollable","scrollBy","offsetHeight","editingRootRect","scrollableRootAncestorRect","getIntersection"],"mappings":"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","file":"index.js.map","sourcesContent":["import { Plugin } from '@ckeditor/ckeditor5-core/dist/index.js';\nimport { toUnit, global, Rect, findClosestScrollableAncestor } from '@ckeditor/ckeditor5-utils/dist/index.js';\nimport { IframeView, View } from '@ckeditor/ckeditor5-ui/dist/index.js';\nimport { DomConverter, Renderer } from '@ckeditor/ckeditor5-engine/dist/index.js';\n\nconst toPx$1 = /* #__PURE__ */ toUnit('px');\n/**\n * The internal `<iframe>` view that hosts the minimap content.\n *\n * @internal\n */ class MinimapIframeView extends IframeView {\n    /**\n\t * Cached view constructor options for re-use in other methods.\n\t */ _options;\n    /**\n\t * Creates an instance of the internal minimap iframe.\n\t */ constructor(locale, options){\n        super(locale);\n        const bind = this.bindTemplate;\n        this.set('top', 0);\n        this.set('height', 0);\n        this._options = options;\n        this.extendTemplate({\n            attributes: {\n                tabindex: -1,\n                'aria-hidden': 'true',\n                class: [\n                    'ck-minimap__iframe'\n                ],\n                style: {\n                    top: bind.to('top', (top)=>toPx$1(top)),\n                    height: bind.to('height', (height)=>toPx$1(height))\n                }\n            }\n        });\n    }\n    /**\n\t * @inheritDoc\n\t */ render() {\n        return super.render().then(()=>{\n            this._prepareDocument();\n        });\n    }\n    /**\n\t * Sets the new height of the iframe.\n\t */ setHeight(newHeight) {\n        this.height = newHeight;\n    }\n    /**\n\t * Sets the top offset of the iframe to move it around vertically.\n\t */ setTopOffset(newOffset) {\n        this.top = newOffset;\n    }\n    /**\n\t * Sets the internal structure of the `<iframe>` readying it to display the\n\t * minimap element.\n\t */ _prepareDocument() {\n        const iframeDocument = this.element.contentWindow.document;\n        const domRootClone = iframeDocument.adoptNode(this._options.domRootClone);\n        const boxStyles = this._options.useSimplePreview ? `\n\t\t\t.ck.ck-editor__editable_inline img {\n\t\t\t\tfilter: contrast( 0 );\n\t\t\t}\n\n\t\t\tp, li, a, figcaption, span {\n\t\t\t\tbackground: hsl(0, 0%, 80%) !important;\n\t\t\t\tcolor: hsl(0, 0%, 80%) !important;\n\t\t\t}\n\n\t\t\th1, h2, h3, h4 {\n\t\t\t\tbackground: hsl(0, 0%, 60%) !important;\n\t\t\t\tcolor: hsl(0, 0%, 60%) !important;\n\t\t\t}\n\t\t` : '';\n        const pageStyles = this._options.pageStyles.map((definition)=>{\n            if (typeof definition === 'string') {\n                return `<style>${definition}</style>`;\n            } else {\n                return `<link rel=\"stylesheet\" type=\"text/css\" href=\"${definition.href}\">`;\n            }\n        }).join('\\n');\n        const html = `<!DOCTYPE html><html lang=\"en\">\n\t\t\t<head>\n\t\t\t\t<meta charset=\"utf-8\">\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\t\t\t\t${pageStyles}\n\t\t\t\t<style>\n\t\t\t\t\thtml, body {\n\t\t\t\t\t\tmargin: 0 !important;\n\t\t\t\t\t\tpadding: 0 !important;\n\t\t\t\t\t}\n\n\t\t\t\t\thtml {\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t}\n\n\t\t\t\t\tbody {\n\t\t\t\t\t\ttransform: scale( ${this._options.scaleRatio} );\n\t\t\t\t\t\ttransform-origin: 0 0;\n\t\t\t\t\t\toverflow: visible;\n\t\t\t\t\t}\n\n\t\t\t\t\t.ck.ck-editor__editable_inline {\n\t\t\t\t\t\tmargin: 0 !important;\n\t\t\t\t\t\tborder-color: transparent !important;\n\t\t\t\t\t\toutline-color: transparent !important;\n\t\t\t\t\t\tbox-shadow: none !important;\n\t\t\t\t\t}\n\n\t\t\t\t\t.ck.ck-content {\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t}\n\n\t\t\t\t\t${boxStyles}\n\t\t\t\t</style>\n\t\t\t</head>\n\t\t\t<body class=\"${this._options.extraClasses || ''}\"></body>\n\t\t</html>`;\n        iframeDocument.open();\n        iframeDocument.write(html);\n        iframeDocument.close();\n        iframeDocument.body.appendChild(domRootClone);\n    }\n}\n\nconst toPx = /* #__PURE__ */ toUnit('px');\n/**\n * The position tracker visualizing the visible subset of the content. Displayed over the minimap.\n *\n * @internal\n */ class MinimapPositionTrackerView extends View {\n    constructor(locale){\n        super(locale);\n        const bind = this.bindTemplate;\n        this.set('height', 0);\n        this.set('top', 0);\n        this.set('scrollProgress', 0);\n        this.set('_isDragging', false);\n        this.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-minimap__position-tracker',\n                    bind.if('_isDragging', 'ck-minimap__position-tracker_dragging')\n                ],\n                style: {\n                    top: bind.to('top', (top)=>toPx(top)),\n                    height: bind.to('height', (height)=>toPx(height))\n                },\n                'data-progress': bind.to('scrollProgress')\n            },\n            on: {\n                mousedown: bind.to(()=>{\n                    this._isDragging = true;\n                })\n            }\n        });\n    }\n    /**\n\t * @inheritDoc\n\t */ render() {\n        super.render();\n        this.listenTo(global.document, 'mousemove', (evt, data)=>{\n            if (!this._isDragging) {\n                return;\n            }\n            this.fire('drag', data.movementY);\n        }, {\n            useCapture: true\n        });\n        this.listenTo(global.document, 'mouseup', ()=>{\n            this._isDragging = false;\n        }, {\n            useCapture: true\n        });\n    }\n    /**\n\t * Sets the new height of the tracker to visualize the subset of the content visible to the user.\n\t */ setHeight(newHeight) {\n        this.height = newHeight;\n    }\n    /**\n\t * Sets the top offset of the tracker to move it around vertically.\n\t */ setTopOffset(newOffset) {\n        this.top = newOffset;\n    }\n    /**\n\t * Sets the scroll progress (in %) to inform the user using a label when the tracker is being dragged.\n\t */ setScrollProgress(newProgress) {\n        this.scrollProgress = newProgress;\n    }\n}\n\n/**\n * The main view of the minimap. It renders the original content but scaled down with a tracker element\n * visualizing the subset of the content visible to the user and allowing interactions (scrolling, dragging).\n *\n * @internal\n */ class MinimapView extends View {\n    /**\n\t * An instance of the tracker view displayed over the minimap.\n\t */ _positionTrackerView;\n    /**\n\t * The scale ratio of the minimap relative to the original editing DOM root with the content.\n\t */ _scaleRatio;\n    /**\n\t * An instance of the iframe view that hosts the minimap.\n\t */ _minimapIframeView;\n    /**\n\t * Creates an instance of the minimap view.\n\t */ constructor({ locale, scaleRatio, pageStyles, extraClasses, useSimplePreview, domRootClone }){\n        super(locale);\n        const bind = this.bindTemplate;\n        this._positionTrackerView = new MinimapPositionTrackerView(locale);\n        this._positionTrackerView.delegate('drag').to(this);\n        this._scaleRatio = scaleRatio;\n        this._minimapIframeView = new MinimapIframeView(locale, {\n            useSimplePreview,\n            pageStyles,\n            extraClasses,\n            scaleRatio,\n            domRootClone\n        });\n        this.setTemplate({\n            tag: 'div',\n            attributes: {\n                class: [\n                    'ck',\n                    'ck-minimap'\n                ]\n            },\n            children: [\n                this._positionTrackerView\n            ],\n            on: {\n                click: bind.to(this._handleMinimapClick.bind(this)),\n                wheel: bind.to(this._handleMinimapMouseWheel.bind(this))\n            }\n        });\n    }\n    /**\n\t * @inheritDoc\n\t */ destroy() {\n        this._minimapIframeView.destroy();\n        super.destroy();\n    }\n    /**\n\t * Returns the DOM {@link module:utils/dom/rect~Rect} height of the minimap.\n\t */ get height() {\n        return new Rect(this.element).height;\n    }\n    /**\n\t * Returns the number of available space (pixels) the position tracker (visible subset of the content) can use to scroll vertically.\n\t */ get scrollHeight() {\n        return Math.max(0, Math.min(this.height, this._minimapIframeView.height) - this._positionTrackerView.height);\n    }\n    /**\n\t * @inheritDoc\n\t */ render() {\n        super.render();\n        this._minimapIframeView.render();\n        this.element.appendChild(this._minimapIframeView.element);\n    }\n    /**\n\t * Sets the new height of the minimap (in px) to respond to the changes in the original editing DOM root.\n\t *\n\t * **Note**:The provided value should be the `offsetHeight` of the original editing DOM root.\n\t */ setContentHeight(newHeight) {\n        this._minimapIframeView.setHeight(newHeight * this._scaleRatio);\n    }\n    /**\n\t * Sets the minimap scroll progress.\n\t *\n\t * The minimap scroll progress is linked to the original editing DOM root and its scrollable container (ancestor).\n\t * Changing the progress will alter the vertical position of the minimap (and its position tracker) and give the user an accurate\n\t * overview of the visible document.\n\t *\n\t * **Note**: The value should be between 0 and 1. 0 when the DOM root has not been scrolled, 1 when the\n\t * scrolling has reached the end.\n\t */ setScrollProgress(newScrollProgress) {\n        const iframeView = this._minimapIframeView;\n        const positionTrackerView = this._positionTrackerView;\n        // The scrolling should end when the bottom edge of the iframe touches the bottom edge of the minimap.\n        if (iframeView.height < this.height) {\n            iframeView.setTopOffset(0);\n            positionTrackerView.setTopOffset((iframeView.height - positionTrackerView.height) * newScrollProgress);\n        } else {\n            const totalOffset = iframeView.height - this.height;\n            iframeView.setTopOffset(-totalOffset * newScrollProgress);\n            positionTrackerView.setTopOffset((this.height - positionTrackerView.height) * newScrollProgress);\n        }\n        positionTrackerView.setScrollProgress(Math.round(newScrollProgress * 100));\n    }\n    /**\n\t * Sets the new height of the tracker (in px) to visualize the subset of the content visible to the user.\n\t */ setPositionTrackerHeight(trackerHeight) {\n        this._positionTrackerView.setHeight(trackerHeight * this._scaleRatio);\n    }\n    /**\n\t * @param data DOM event data\n\t */ _handleMinimapClick(data) {\n        const positionTrackerView = this._positionTrackerView;\n        if (data.target === positionTrackerView.element) {\n            return;\n        }\n        const trackerViewRect = new Rect(positionTrackerView.element);\n        const diff = data.clientY - trackerViewRect.top - trackerViewRect.height / 2;\n        const percentage = diff / this._minimapIframeView.height;\n        this.fire('click', percentage);\n    }\n    /**\n\t * @param data DOM event data\n\t */ _handleMinimapMouseWheel(data) {\n        this.fire('drag', data.deltaY * this._scaleRatio);\n    }\n}\n\n/**\n * Clones the editing view DOM root by using a dedicated pair of {@link module:engine/view/renderer~Renderer} and\n * {@link module:engine/view/domconverter~DomConverter}. The DOM root clone updates incrementally to stay in sync with the\n * source root.\n *\n * @internal\n * @param editor The editor instance the original editing root belongs to.\n * @param rootName The name of the root to clone.\n * @returns The editing root DOM clone element.\n */ function cloneEditingViewDomRoot(editor, rootName) {\n    const viewDocument = editor.editing.view.document;\n    const viewRoot = viewDocument.getRoot(rootName);\n    const domConverter = new DomConverter(viewDocument);\n    const renderer = new Renderer(domConverter, viewDocument.selection);\n    const domRootClone = editor.editing.view.getDomRoot().cloneNode();\n    domConverter.bindElements(domRootClone, viewRoot);\n    renderer.markToSync('children', viewRoot);\n    renderer.markToSync('attributes', viewRoot);\n    viewRoot.on('change:children', (evt, node)=>renderer.markToSync('children', node));\n    viewRoot.on('change:attributes', (evt, node)=>renderer.markToSync('attributes', node));\n    viewRoot.on('change:text', (evt, node)=>renderer.markToSync('text', node));\n    renderer.render();\n    editor.editing.view.on('render', ()=>renderer.render());\n    // TODO: Cleanup after destruction.\n    editor.on('destroy', ()=>{\n        domConverter.unbindDomElement(domRootClone);\n    });\n    return domRootClone;\n}\n/**\n * Harvests all web page styles, for instance, to allow re-using them in an `<iframe>` preserving the look of the content.\n *\n * The returned data format is as follows:\n *\n * ```ts\n * [\n * \t'p { color: red; ... } h2 { font-size: 2em; ... } ...',\n * \t'.spacing { padding: 1em; ... }; ...',\n * \t'...',\n * \t{ href: 'http://link.to.external.stylesheet' },\n * \t{ href: '...' }\n * ]\n * ```\n *\n * **Note**: For stylesheets with `href` different than window origin, an object is returned because\n * accessing rules of these styles may cause CORS errors (depending on the configuration of the web page).\n *\n * @internal\n */ function getPageStyles() {\n    return Array.from(global.document.styleSheets).map((styleSheet)=>{\n        // CORS\n        if (styleSheet.href && !styleSheet.href.startsWith(global.window.location.origin)) {\n            return {\n                href: styleSheet.href\n            };\n        }\n        return Array.from(styleSheet.cssRules).filter((rule)=>!(rule instanceof CSSMediaRule)).map((rule)=>rule.cssText).join(' \\n');\n    });\n}\n/**\n * Gets dimensions rectangle according to passed DOM element. Returns whole window's size for `body` element.\n *\n * @internal\n */ function getDomElementRect(domElement) {\n    return new Rect(domElement === global.document.body ? global.window : domElement);\n}\n/**\n * Gets client height according to passed DOM element. Returns window's height for `body` element.\n *\n * @internal\n */ function getClientHeight(domElement) {\n    return domElement === global.document.body ? global.window.innerHeight : domElement.clientHeight;\n}\n/**\n * Returns the DOM element itself if it's not a `body` element, whole window otherwise.\n *\n * @internal\n */ function getScrollable(domElement) {\n    return domElement === global.document.body ? global.window : domElement;\n}\n\n/**\n * The content minimap feature.\n */ class Minimap extends Plugin {\n    /**\n\t * @inheritDoc\n\t */ static get pluginName() {\n        return 'Minimap';\n    }\n    /**\n\t * The reference to the view of the minimap.\n\t */ _minimapView;\n    /**\n\t * The DOM element closest to the editable element of the editor as returned\n\t * by {@link module:ui/editorui/editorui~EditorUI#getEditableElement}.\n\t */ _scrollableRootAncestor;\n    /**\n\t * The DOM element closest to the editable element of the editor as returned\n\t * by {@link module:ui/editorui/editorui~EditorUI#getEditableElement}.\n\t */ _editingRootElement;\n    /**\n\t * @inheritDoc\n\t */ init() {\n        const editor = this.editor;\n        this._minimapView = null;\n        this._scrollableRootAncestor = null;\n        this.listenTo(editor.ui, 'ready', this._onUiReady.bind(this));\n    }\n    /**\n\t * @inheritDoc\n\t */ destroy() {\n        super.destroy();\n        this._minimapView.destroy();\n        this._minimapView.element.remove();\n    }\n    /**\n\t * Initializes the minimap view element and starts the layout synchronization\n\t * on the editing view `render` event.\n\t */ _onUiReady() {\n        const editor = this.editor;\n        // TODO: This will not work with the multi-root editor.\n        const editingRootElement = this._editingRootElement = editor.ui.getEditableElement();\n        this._scrollableRootAncestor = findClosestScrollableAncestor(editingRootElement);\n        // DOM root element is not yet attached to the document.\n        if (!editingRootElement.ownerDocument.body.contains(editingRootElement)) {\n            editor.ui.once('update', this._onUiReady.bind(this));\n            return;\n        }\n        this._initializeMinimapView();\n        this.listenTo(editor.editing.view, 'render', ()=>{\n            if (editor.state !== 'ready') {\n                return;\n            }\n            this._syncMinimapToEditingRootScrollPosition();\n        });\n        this._syncMinimapToEditingRootScrollPosition();\n    }\n    /**\n\t * Initializes the minimap view and attaches listeners that make it responsive to the environment (document)\n\t * but also allow the minimap to control the document (scroll position).\n\t */ _initializeMinimapView() {\n        const editor = this.editor;\n        const locale = editor.locale;\n        const useSimplePreview = editor.config.get('minimap.useSimplePreview');\n        // TODO: Throw an error if there is no `minimap` in config.\n        const minimapContainerElement = editor.config.get('minimap.container');\n        const scrollableRootAncestor = this._scrollableRootAncestor;\n        // TODO: This should be dynamic, the root width could change as the viewport scales if not fixed unit.\n        const editingRootElementWidth = getDomElementRect(this._editingRootElement).width;\n        const minimapContainerWidth = getDomElementRect(minimapContainerElement).width;\n        const minimapScaleRatio = minimapContainerWidth / editingRootElementWidth;\n        const minimapView = this._minimapView = new MinimapView({\n            locale,\n            scaleRatio: minimapScaleRatio,\n            pageStyles: getPageStyles(),\n            extraClasses: editor.config.get('minimap.extraClasses'),\n            useSimplePreview,\n            domRootClone: cloneEditingViewDomRoot(editor)\n        });\n        minimapView.render();\n        // Scrollable ancestor scroll -> minimap position update.\n        minimapView.listenTo(global.document, 'scroll', (evt, data)=>{\n            if (scrollableRootAncestor === global.document.body) {\n                if (data.target !== global.document) {\n                    return;\n                }\n            } else if (data.target !== scrollableRootAncestor) {\n                return;\n            }\n            this._syncMinimapToEditingRootScrollPosition();\n        }, {\n            useCapture: true,\n            usePassive: true\n        });\n        // Viewport resize -> minimap position update.\n        minimapView.listenTo(global.window, 'resize', ()=>{\n            this._syncMinimapToEditingRootScrollPosition();\n        });\n        // Dragging the visible content area -> document (scrollable) position update.\n        minimapView.on('drag', (evt, movementY)=>{\n            let movementYPercentage;\n            if (minimapView.scrollHeight === 0) {\n                movementYPercentage = 0;\n            } else {\n                movementYPercentage = movementY / minimapView.scrollHeight;\n            }\n            const absoluteScrollProgress = movementYPercentage * (scrollableRootAncestor.scrollHeight - getClientHeight(scrollableRootAncestor));\n            const scrollable = getScrollable(scrollableRootAncestor);\n            scrollable.scrollBy(0, Math.round(absoluteScrollProgress));\n        });\n        // Clicking the minimap -> center the document (scrollable) to the corresponding position.\n        minimapView.on('click', (evt, percentage)=>{\n            const absoluteScrollProgress = percentage * scrollableRootAncestor.scrollHeight;\n            const scrollable = getScrollable(scrollableRootAncestor);\n            scrollable.scrollBy(0, Math.round(absoluteScrollProgress));\n        });\n        minimapContainerElement.appendChild(minimapView.element);\n    }\n    /**\n\t * @private\n\t */ _syncMinimapToEditingRootScrollPosition() {\n        const editingRootElement = this._editingRootElement;\n        const minimapView = this._minimapView;\n        minimapView.setContentHeight(editingRootElement.offsetHeight);\n        const editingRootRect = getDomElementRect(editingRootElement);\n        const scrollableRootAncestorRect = getDomElementRect(this._scrollableRootAncestor);\n        let scrollProgress;\n        // @if CK_DEBUG_MINIMAP // RectDrawer.clear();\n        // @if CK_DEBUG_MINIMAP // RectDrawer.draw( scrollableRootAncestorRect, { outlineColor: 'red' }, 'scrollableRootAncestor' );\n        // @if CK_DEBUG_MINIMAP // RectDrawer.draw( editingRootRect, { outlineColor: 'green' }, 'editingRoot' );\n        // The root is completely visible in the scrollable ancestor.\n        if (scrollableRootAncestorRect.contains(editingRootRect)) {\n            scrollProgress = 0;\n        } else {\n            if (editingRootRect.top > scrollableRootAncestorRect.top) {\n                scrollProgress = 0;\n            } else {\n                scrollProgress = (editingRootRect.top - scrollableRootAncestorRect.top) / (scrollableRootAncestorRect.height - editingRootRect.height);\n                scrollProgress = Math.max(0, Math.min(scrollProgress, 1));\n            }\n        }\n        // The intersection helps to change the tracker height when there is a lot of padding around the root.\n        // Note: It is **essential** that the height is set first because the progress depends on the correct tracker height.\n        minimapView.setPositionTrackerHeight(scrollableRootAncestorRect.getIntersection(editingRootRect).height);\n        minimapView.setScrollProgress(scrollProgress);\n    }\n}\n\nexport { Minimap };\n//# sourceMappingURL=index.js.map\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module minimap/minimapiframeview\n */\n\nimport { IframeView } from 'ckeditor5/src/ui.js';\nimport { toUnit, type Locale } from 'ckeditor5/src/utils.js';\nimport type { MinimapViewOptions } from './minimapview.js';\n\nconst toPx = /* #__PURE__ */ toUnit( 'px' );\n\n/**\n * The internal `<iframe>` view that hosts the minimap content.\n *\n * @internal\n */\nexport default class MinimapIframeView extends IframeView {\n\t/**\n\t * The CSS `top` used to scroll the minimap.\n\t *\n\t * @readonly\n\t */\n\tdeclare public top: number;\n\n\t/**\n\t * The CSS `height` of the iframe.\n\t *\n\t * @readonly\n\t */\n\tdeclare public height: number;\n\n\t/**\n\t * Cached view constructor options for re-use in other methods.\n\t */\n\tprivate readonly _options: MinimapViewOptions;\n\n\t/**\n\t * Creates an instance of the internal minimap iframe.\n\t */\n\tconstructor( locale: Locale, options: MinimapViewOptions ) {\n\t\tsuper( locale );\n\n\t\tconst bind = this.bindTemplate;\n\n\t\tthis.set( 'top', 0 );\n\n\t\tthis.set( 'height', 0 );\n\n\t\tthis._options = options;\n\n\t\tthis.extendTemplate( {\n\t\t\tattributes: {\n\t\t\t\ttabindex: -1,\n\t\t\t\t'aria-hidden': 'true',\n\t\t\t\tclass: [\n\t\t\t\t\t'ck-minimap__iframe'\n\t\t\t\t],\n\t\t\t\tstyle: {\n\t\t\t\t\ttop: bind.to( 'top', top => toPx( top ) ),\n\t\t\t\t\theight: bind.to( 'height', height => toPx( height ) )\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic override render(): Promise<unknown> {\n\t\treturn super.render().then( () => {\n\t\t\tthis._prepareDocument();\n\t\t} );\n\t}\n\n\t/**\n\t * Sets the new height of the iframe.\n\t */\n\tpublic setHeight( newHeight: number ): void {\n\t\tthis.height = newHeight;\n\t}\n\n\t/**\n\t * Sets the top offset of the iframe to move it around vertically.\n\t */\n\tpublic setTopOffset( newOffset: number ): void {\n\t\tthis.top = newOffset;\n\t}\n\n\t/**\n\t * Sets the internal structure of the `<iframe>` readying it to display the\n\t * minimap element.\n\t */\n\tprivate _prepareDocument(): void {\n\t\tconst iframeDocument = this.element!.contentWindow!.document;\n\t\tconst domRootClone = iframeDocument.adoptNode( this._options.domRootClone );\n\n\t\tconst boxStyles = this._options.useSimplePreview ? `\n\t\t\t.ck.ck-editor__editable_inline img {\n\t\t\t\tfilter: contrast( 0 );\n\t\t\t}\n\n\t\t\tp, li, a, figcaption, span {\n\t\t\t\tbackground: hsl(0, 0%, 80%) !important;\n\t\t\t\tcolor: hsl(0, 0%, 80%) !important;\n\t\t\t}\n\n\t\t\th1, h2, h3, h4 {\n\t\t\t\tbackground: hsl(0, 0%, 60%) !important;\n\t\t\t\tcolor: hsl(0, 0%, 60%) !important;\n\t\t\t}\n\t\t` : '';\n\n\t\tconst pageStyles = this._options.pageStyles.map( definition => {\n\t\t\tif ( typeof definition === 'string' ) {\n\t\t\t\treturn `<style>${ definition }</style>`;\n\t\t\t} else {\n\t\t\t\treturn `<link rel=\"stylesheet\" type=\"text/css\" href=\"${ definition.href }\">`;\n\t\t\t}\n\t\t} ).join( '\\n' );\n\n\t\tconst html = `<!DOCTYPE html><html lang=\"en\">\n\t\t\t<head>\n\t\t\t\t<meta charset=\"utf-8\">\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\t\t\t\t${ pageStyles }\n\t\t\t\t<style>\n\t\t\t\t\thtml, body {\n\t\t\t\t\t\tmargin: 0 !important;\n\t\t\t\t\t\tpadding: 0 !important;\n\t\t\t\t\t}\n\n\t\t\t\t\thtml {\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t}\n\n\t\t\t\t\tbody {\n\t\t\t\t\t\ttransform: scale( ${ this._options.scaleRatio } );\n\t\t\t\t\t\ttransform-origin: 0 0;\n\t\t\t\t\t\toverflow: visible;\n\t\t\t\t\t}\n\n\t\t\t\t\t.ck.ck-editor__editable_inline {\n\t\t\t\t\t\tmargin: 0 !important;\n\t\t\t\t\t\tborder-color: transparent !important;\n\t\t\t\t\t\toutline-color: transparent !important;\n\t\t\t\t\t\tbox-shadow: none !important;\n\t\t\t\t\t}\n\n\t\t\t\t\t.ck.ck-content {\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t}\n\n\t\t\t\t\t${ boxStyles }\n\t\t\t\t</style>\n\t\t\t</head>\n\t\t\t<body class=\"${ this._options.extraClasses || '' }\"></body>\n\t\t</html>`;\n\n\t\tiframeDocument.open();\n\t\tiframeDocument.write( html );\n\t\tiframeDocument.close();\n\t\tiframeDocument.body.appendChild( domRootClone );\n\t}\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module minimap/minimappositiontrackerview\n */\n\nimport { View } from 'ckeditor5/src/ui.js';\nimport { toUnit, global, type Locale } from 'ckeditor5/src/utils.js';\nimport type { MinimapDragEvent } from './minimapview.js';\n\nconst toPx = /* #__PURE__ */ toUnit( 'px' );\n\n/**\n * The position tracker visualizing the visible subset of the content. Displayed over the minimap.\n *\n * @internal\n */\nexport default class MinimapPositionTrackerView extends View {\n\t/**\n\t * The CSS `height` of the tracker visualizing the subset of the content visible to the user.\n\t *\n\t * @readonly\n\t */\n\tdeclare public height: number;\n\n\t/**\n\t * The CSS `top` of the tracker, used to move it vertically over the minimap.\n\t *\n\t * @readonly\n\t */\n\tdeclare public top: number;\n\n\t/**\n\t * The scroll progress (in %) displayed over the tracker when being dragged by the user.\n\t *\n\t * @readonly\n\t */\n\tdeclare public scrollProgress: number;\n\n\t/**\n\t * Indicates whether the tracker is being dragged by the user (e.g. using the mouse).\n\t *\n\t * @internal\n\t * @readonly\n\t */\n\tdeclare public _isDragging: boolean;\n\n\tconstructor( locale: Locale ) {\n\t\tsuper( locale );\n\n\t\tconst bind = this.bindTemplate;\n\n\t\tthis.set( 'height', 0 );\n\t\tthis.set( 'top', 0 );\n\t\tthis.set( 'scrollProgress', 0 );\n\t\tthis.set( '_isDragging', false );\n\n\t\tthis.setTemplate( {\n\t\t\ttag: 'div',\n\t\t\tattributes: {\n\t\t\t\tclass: [\n\t\t\t\t\t'ck',\n\t\t\t\t\t'ck-minimap__position-tracker',\n\t\t\t\t\tbind.if( '_isDragging', 'ck-minimap__position-tracker_dragging' )\n\t\t\t\t],\n\t\t\t\tstyle: {\n\t\t\t\t\ttop: bind.to( 'top', top => toPx( top ) ),\n\t\t\t\t\theight: bind.to( 'height', height => toPx( height ) )\n\t\t\t\t},\n\t\t\t\t'data-progress': bind.to( 'scrollProgress' )\n\t\t\t},\n\t\t\ton: {\n\t\t\t\tmousedown: bind.to( () => {\n\t\t\t\t\tthis._isDragging = true;\n\t\t\t\t} )\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic override render(): void {\n\t\tsuper.render();\n\n\t\tthis.listenTo( global.document, 'mousemove', ( evt, data ) => {\n\t\t\tif ( !this._isDragging ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.fire<MinimapDragEvent>( 'drag', data.movementY );\n\t\t}, { useCapture: true } );\n\n\t\tthis.listenTo( global.document, 'mouseup', () => {\n\t\t\tthis._isDragging = false;\n\t\t}, { useCapture: true } );\n\t}\n\n\t/**\n\t * Sets the new height of the tracker to visualize the subset of the content visible to the user.\n\t */\n\tpublic setHeight( newHeight: number ): void {\n\t\tthis.height = newHeight;\n\t}\n\n\t/**\n\t * Sets the top offset of the tracker to move it around vertically.\n\t */\n\tpublic setTopOffset( newOffset: number ): void {\n\t\tthis.top = newOffset;\n\t}\n\n\t/**\n\t * Sets the scroll progress (in %) to inform the user using a label when the tracker is being dragged.\n\t */\n\tpublic setScrollProgress( newProgress: number ): void {\n\t\tthis.scrollProgress = newProgress;\n\t}\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module minimap/minimapview\n */\n\nimport { View } from 'ckeditor5/src/ui.js';\nimport { Rect, type Locale } from 'ckeditor5/src/utils.js';\n\nimport MinimapIframeView from './minimapiframeview.js';\nimport MinimapPositionTrackerView from './minimappositiontrackerview.js';\n\nexport type MinimapViewOptions = {\n\tdomRootClone: HTMLElement;\n\tpageStyles: Array<string | { href: string }>;\n\tscaleRatio: number;\n\tuseSimplePreview?: boolean;\n\textraClasses?: string;\n};\n\n/**\n * The main view of the minimap. It renders the original content but scaled down with a tracker element\n * visualizing the subset of the content visible to the user and allowing interactions (scrolling, dragging).\n *\n * @internal\n */\nexport default class MinimapView extends View {\n\t/**\n\t * An instance of the tracker view displayed over the minimap.\n\t */\n\tprivate readonly _positionTrackerView: MinimapPositionTrackerView;\n\n\t/**\n\t * The scale ratio of the minimap relative to the original editing DOM root with the content.\n\t */\n\tprivate readonly _scaleRatio: number;\n\n\t/**\n\t * An instance of the iframe view that hosts the minimap.\n\t */\n\tprivate readonly _minimapIframeView: MinimapIframeView;\n\n\t/**\n\t * Creates an instance of the minimap view.\n\t */\n\tconstructor(\n\t\t{ locale, scaleRatio, pageStyles, extraClasses, useSimplePreview, domRootClone }: { locale: Locale } & MinimapViewOptions\n\t) {\n\t\tsuper( locale );\n\n\t\tconst bind = this.bindTemplate;\n\n\t\tthis._positionTrackerView = new MinimapPositionTrackerView( locale );\n\t\tthis._positionTrackerView.delegate( 'drag' ).to( this );\n\n\t\tthis._scaleRatio = scaleRatio;\n\n\t\tthis._minimapIframeView = new MinimapIframeView( locale, {\n\t\t\tuseSimplePreview,\n\t\t\tpageStyles,\n\t\t\textraClasses,\n\t\t\tscaleRatio,\n\t\t\tdomRootClone\n\t\t} );\n\n\t\tthis.setTemplate( {\n\t\t\ttag: 'div',\n\t\t\tattributes: {\n\t\t\t\tclass: [\n\t\t\t\t\t'ck',\n\t\t\t\t\t'ck-minimap'\n\t\t\t\t]\n\t\t\t},\n\t\t\tchildren: [\n\t\t\t\tthis._positionTrackerView\n\t\t\t],\n\t\t\ton: {\n\t\t\t\tclick: bind.to( this._handleMinimapClick.bind( this ) ),\n\t\t\t\twheel: bind.to( this._handleMinimapMouseWheel.bind( this ) )\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic override destroy(): void {\n\t\tthis._minimapIframeView.destroy();\n\n\t\tsuper.destroy();\n\t}\n\n\t/**\n\t * Returns the DOM {@link module:utils/dom/rect~Rect} height of the minimap.\n\t */\n\tpublic get height(): number {\n\t\treturn new Rect( this.element! ).height;\n\t}\n\n\t/**\n\t * Returns the number of available space (pixels) the position tracker (visible subset of the content) can use to scroll vertically.\n\t */\n\tpublic get scrollHeight(): number {\n\t\treturn Math.max( 0, Math.min( this.height, this._minimapIframeView.height ) - this._positionTrackerView.height );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic override render(): void {\n\t\tsuper.render();\n\n\t\tthis._minimapIframeView.render();\n\n\t\tthis.element!.appendChild( this._minimapIframeView.element! );\n\t}\n\n\t/**\n\t * Sets the new height of the minimap (in px) to respond to the changes in the original editing DOM root.\n\t *\n\t * **Note**:The provided value should be the `offsetHeight` of the original editing DOM root.\n\t */\n\tpublic setContentHeight( newHeight: number ): void {\n\t\tthis._minimapIframeView.setHeight( newHeight * this._scaleRatio );\n\t}\n\n\t/**\n\t * Sets the minimap scroll progress.\n\t *\n\t * The minimap scroll progress is linked to the original editing DOM root and its scrollable container (ancestor).\n\t * Changing the progress will alter the vertical position of the minimap (and its position tracker) and give the user an accurate\n\t * overview of the visible document.\n\t *\n\t * **Note**: The value should be between 0 and 1. 0 when the DOM root has not been scrolled, 1 when the\n\t * scrolling has reached the end.\n\t */\n\tpublic setScrollProgress( newScrollProgress: number ): void {\n\t\tconst iframeView = this._minimapIframeView;\n\t\tconst positionTrackerView = this._positionTrackerView;\n\n\t\t// The scrolling should end when the bottom edge of the iframe touches the bottom edge of the minimap.\n\t\tif ( iframeView.height < this.height ) {\n\t\t\tiframeView.setTopOffset( 0 );\n\t\t\tpositionTrackerView.setTopOffset( ( iframeView.height - positionTrackerView.height ) * newScrollProgress );\n\t\t} else {\n\t\t\tconst totalOffset = iframeView.height - this.height;\n\n\t\t\tiframeView.setTopOffset( -totalOffset * newScrollProgress );\n\t\t\tpositionTrackerView.setTopOffset( ( this.height - positionTrackerView.height ) * newScrollProgress );\n\t\t}\n\n\t\tpositionTrackerView.setScrollProgress( Math.round( newScrollProgress * 100 ) );\n\t}\n\n\t/**\n\t * Sets the new height of the tracker (in px) to visualize the subset of the content visible to the user.\n\t */\n\tpublic setPositionTrackerHeight( trackerHeight: number ): void {\n\t\tthis._positionTrackerView.setHeight( trackerHeight * this._scaleRatio );\n\t}\n\n\t/**\n\t * @param data DOM event data\n\t */\n\tprivate _handleMinimapClick( data: Event ) {\n\t\tconst positionTrackerView = this._positionTrackerView;\n\n\t\tif ( data.target === positionTrackerView.element ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst trackerViewRect = new Rect( positionTrackerView.element! );\n\t\tconst diff = ( data as MouseEvent ).clientY - trackerViewRect.top - trackerViewRect.height / 2;\n\t\tconst percentage = diff / this._minimapIframeView.height;\n\n\t\tthis.fire<MinimapClickEvent>( 'click', percentage );\n\t}\n\n\t/**\n\t * @param data DOM event data\n\t */\n\tprivate _handleMinimapMouseWheel( data: Event ) {\n\t\tthis.fire<MinimapDragEvent>( 'drag', ( data as WheelEvent ).deltaY * this._scaleRatio );\n\t}\n}\n\n/**\n * Fired when the minimap view is clicked.\n *\n * @eventName ~MinimapView#click\n * @param percentage The number between 0 and 1 representing a place in the minimap (its height) that was clicked.\n */\nexport type MinimapClickEvent = {\n\tname: 'click';\n\targs: [ percentage: number ];\n};\n\n/**\n * Fired when the position tracker is dragged or the minimap is scrolled via mouse wheel.\n *\n * @eventName ~MinimapView#drag\n * @param movementY The vertical movement of the minimap as a result of dragging or scrolling.\n */\nexport type MinimapDragEvent = {\n\tname: 'drag';\n\targs: [ movementY: number ];\n};\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* global CSSMediaRule */\n\n/**\n * @module minimap/utils\n */\n\nimport { Rect, global } from 'ckeditor5/src/utils.js';\nimport { DomConverter, Renderer } from 'ckeditor5/src/engine.js';\nimport type { Editor } from 'ckeditor5/src/core.js';\n\n/**\n * Clones the editing view DOM root by using a dedicated pair of {@link module:engine/view/renderer~Renderer} and\n * {@link module:engine/view/domconverter~DomConverter}. The DOM root clone updates incrementally to stay in sync with the\n * source root.\n *\n * @internal\n * @param editor The editor instance the original editing root belongs to.\n * @param rootName The name of the root to clone.\n * @returns The editing root DOM clone element.\n */\nexport function cloneEditingViewDomRoot( editor: Editor, rootName?: string ): HTMLElement {\n\tconst viewDocument = editor.editing.view.document;\n\tconst viewRoot = viewDocument.getRoot( rootName )!;\n\tconst domConverter = new DomConverter( viewDocument );\n\tconst renderer = new Renderer( domConverter, viewDocument.selection );\n\tconst domRootClone = editor.editing.view.getDomRoot()!.cloneNode() as HTMLElement;\n\n\tdomConverter.bindElements( domRootClone, viewRoot );\n\n\trenderer.markToSync( 'children', viewRoot );\n\trenderer.markToSync( 'attributes', viewRoot );\n\n\tviewRoot.on( 'change:children', ( evt, node ) => renderer.markToSync( 'children', node ) );\n\tviewRoot.on( 'change:attributes', ( evt, node ) => renderer.markToSync( 'attributes', node ) );\n\tviewRoot.on( 'change:text', ( evt, node ) => renderer.markToSync( 'text', node ) );\n\n\trenderer.render();\n\n\teditor.editing.view.on( 'render', () => renderer.render() );\n\n\t// TODO: Cleanup after destruction.\n\teditor.on( 'destroy', () => {\n\t\tdomConverter.unbindDomElement( domRootClone );\n\t} );\n\n\treturn domRootClone;\n}\n\n/**\n * Harvests all web page styles, for instance, to allow re-using them in an `<iframe>` preserving the look of the content.\n *\n * The returned data format is as follows:\n *\n * ```ts\n * [\n * \t'p { color: red; ... } h2 { font-size: 2em; ... } ...',\n * \t'.spacing { padding: 1em; ... }; ...',\n * \t'...',\n * \t{ href: 'http://link.to.external.stylesheet' },\n * \t{ href: '...' }\n * ]\n * ```\n *\n * **Note**: For stylesheets with `href` different than window origin, an object is returned because\n * accessing rules of these styles may cause CORS errors (depending on the configuration of the web page).\n *\n * @internal\n */\nexport function getPageStyles(): Array<string | { href: string }> {\n\treturn Array.from( global.document.styleSheets )\n\t\t.map( styleSheet => {\n\t\t\t// CORS\n\t\t\tif ( styleSheet.href && !styleSheet.href.startsWith( global.window.location.origin ) ) {\n\t\t\t\treturn { href: styleSheet.href };\n\t\t\t}\n\n\t\t\treturn Array.from( styleSheet.cssRules )\n\t\t\t\t.filter( rule => !( rule instanceof CSSMediaRule ) )\n\t\t\t\t.map( rule => rule.cssText )\n\t\t\t\t.join( ' \\n' );\n\t\t} );\n}\n\n/**\n * Gets dimensions rectangle according to passed DOM element. Returns whole window's size for `body` element.\n *\n * @internal\n */\nexport function getDomElementRect( domElement: HTMLElement ): Rect {\n\treturn new Rect( domElement === global.document.body ? global.window : domElement );\n}\n\n/**\n * Gets client height according to passed DOM element. Returns window's height for `body` element.\n *\n * @internal\n */\nexport function getClientHeight( domElement: HTMLElement ): number {\n\treturn domElement === global.document.body ? global.window.innerHeight : domElement.clientHeight;\n}\n\n/**\n * Returns the DOM element itself if it's not a `body` element, whole window otherwise.\n *\n * @internal\n */\nexport function getScrollable( domElement: HTMLElement ): Window | HTMLElement {\n\treturn domElement === global.document.body ? global.window : domElement;\n}\n","/**\n * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module minimap/minimap\n */\n\nimport { Plugin } from 'ckeditor5/src/core.js';\nimport { findClosestScrollableAncestor, global } from 'ckeditor5/src/utils.js';\nimport MinimapView, { type MinimapDragEvent, type MinimapClickEvent } from './minimapview.js';\nimport {\n\tcloneEditingViewDomRoot,\n\tgetClientHeight,\n\tgetDomElementRect,\n\tgetPageStyles,\n\tgetScrollable\n} from './utils.js';\n\n// @if CK_DEBUG_MINIMAP // const RectDrawer = require( '@ckeditor/ckeditor5-utils/tests/_utils/rectdrawer' ).default;\n\nimport '../theme/minimap.css';\n\n/**\n * The content minimap feature.\n */\nexport default class Minimap extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic static get pluginName() {\n\t\treturn 'Minimap' as const;\n\t}\n\n\t/**\n\t * The reference to the view of the minimap.\n\t */\n\tprivate _minimapView!: MinimapView | null;\n\n\t/**\n\t * The DOM element closest to the editable element of the editor as returned\n\t * by {@link module:ui/editorui/editorui~EditorUI#getEditableElement}.\n\t */\n\tprivate _scrollableRootAncestor!: HTMLElement | null;\n\n\t/**\n\t * The DOM element closest to the editable element of the editor as returned\n\t * by {@link module:ui/editorui/editorui~EditorUI#getEditableElement}.\n\t */\n\tprivate _editingRootElement?: HTMLElement;\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic init(): void {\n\t\tconst editor = this.editor;\n\t\tthis._minimapView = null;\n\t\tthis._scrollableRootAncestor = null;\n\n\t\tthis.listenTo( editor.ui, 'ready', this._onUiReady.bind( this ) );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic override destroy(): void {\n\t\tsuper.destroy();\n\n\t\tthis._minimapView!.destroy();\n\t\tthis._minimapView!.element!.remove();\n\t}\n\n\t/**\n\t * Initializes the minimap view element and starts the layout synchronization\n\t * on the editing view `render` event.\n\t */\n\tprivate _onUiReady(): void {\n\t\tconst editor = this.editor;\n\n\t\t// TODO: This will not work with the multi-root editor.\n\t\tconst editingRootElement = this._editingRootElement = editor.ui.getEditableElement()!;\n\n\t\tthis._scrollableRootAncestor = findClosestScrollableAncestor( editingRootElement );\n\n\t\t// DOM root element is not yet attached to the document.\n\t\tif ( !editingRootElement.ownerDocument.body.contains( editingRootElement ) ) {\n\t\t\teditor.ui.once( 'update', this._onUiReady.bind( this ) );\n\n\t\t\treturn;\n\t\t}\n\n\t\tthis._initializeMinimapView();\n\n\t\tthis.listenTo( editor.editing.view, 'render', () => {\n\t\t\tif ( editor.state !== 'ready' ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._syncMinimapToEditingRootScrollPosition();\n\t\t} );\n\n\t\tthis._syncMinimapToEditingRootScrollPosition();\n\t}\n\n\t/**\n\t * Initializes the minimap view and attaches listeners that make it responsive to the environment (document)\n\t * but also allow the minimap to control the document (scroll position).\n\t */\n\tprivate _initializeMinimapView(): void {\n\t\tconst editor = this.editor;\n\t\tconst locale = editor.locale;\n\t\tconst useSimplePreview = editor.config.get( 'minimap.useSimplePreview' );\n\n\t\t// TODO: Throw an error if there is no `minimap` in config.\n\t\tconst minimapContainerElement = editor.config.get( 'minimap.container' )!;\n\t\tconst scrollableRootAncestor = this._scrollableRootAncestor!;\n\n\t\t// TODO: This should be dynamic, the root width could change as the viewport scales if not fixed unit.\n\t\tconst editingRootElementWidth = getDomElementRect( this._editingRootElement! ).width;\n\t\tconst minimapContainerWidth = getDomElementRect( minimapContainerElement ).width;\n\t\tconst minimapScaleRatio = minimapContainerWidth / editingRootElementWidth;\n\n\t\tconst minimapView = this._minimapView = new MinimapView( {\n\t\t\tlocale,\n\t\t\tscaleRatio: minimapScaleRatio,\n\t\t\tpageStyles: getPageStyles(),\n\t\t\textraClasses: editor.config.get( 'minimap.extraClasses' ),\n\t\t\tuseSimplePreview,\n\t\t\tdomRootClone: cloneEditingViewDomRoot( editor )\n\t\t} );\n\n\t\tminimapView.render();\n\n\t\t// Scrollable ancestor scroll -> minimap position update.\n\t\tminimapView.listenTo( global.document, 'scroll', ( evt, data ) => {\n\t\t\tif ( scrollableRootAncestor === global.document.body ) {\n\t\t\t\tif ( data.target !== global.document ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else if ( data.target !== scrollableRootAncestor ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._syncMinimapToEditingRootScrollPosition();\n\t\t}, { useCapture: true, usePassive: true } );\n\n\t\t// Viewport resize -> minimap position update.\n\t\tminimapView.listenTo( global.window, 'resize', () => {\n\t\t\tthis._syncMinimapToEditingRootScrollPosition();\n\t\t} );\n\n\t\t// Dragging the visible content area -> document (scrollable) position update.\n\t\tminimapView.on<MinimapDragEvent>( 'drag', ( evt, movementY ) => {\n\t\t\tlet movementYPercentage;\n\n\t\t\tif ( minimapView.scrollHeight === 0 ) {\n\t\t\t\tmovementYPercentage = 0;\n\t\t\t} else {\n\t\t\t\tmovementYPercentage = movementY / minimapView.scrollHeight;\n\t\t\t}\n\n\t\t\tconst absoluteScrollProgress = movementYPercentage *\n\t\t\t\t( scrollableRootAncestor.scrollHeight - getClientHeight( scrollableRootAncestor ) );\n\t\t\tconst scrollable = getScrollable( scrollableRootAncestor );\n\n\t\t\tscrollable.scrollBy( 0, Math.round( absoluteScrollProgress ) );\n\t\t} );\n\n\t\t// Clicking the minimap -> center the document (scrollable) to the corresponding position.\n\t\tminimapView.on<MinimapClickEvent>( 'click', ( evt, percentage ) => {\n\t\t\tconst absoluteScrollProgress = percentage * scrollableRootAncestor.scrollHeight;\n\t\t\tconst scrollable = getScrollable( scrollableRootAncestor );\n\n\t\t\tscrollable.scrollBy( 0, Math.round( absoluteScrollProgress ) );\n\t\t} );\n\n\t\tminimapContainerElement.appendChild( minimapView.element! );\n\t}\n\n\t/**\n\t * @private\n\t */\n\tprivate _syncMinimapToEditingRootScrollPosition(): void {\n\t\tconst editingRootElement = this._editingRootElement!;\n\t\tconst minimapView = this._minimapView!;\n\n\t\tminimapView.setContentHeight( editingRootElement.offsetHeight );\n\n\t\tconst editingRootRect = getDomElementRect( editingRootElement );\n\t\tconst scrollableRootAncestorRect = getDomElementRect( this._scrollableRootAncestor! );\n\t\tlet scrollProgress;\n\n\t\t// @if CK_DEBUG_MINIMAP // RectDrawer.clear();\n\t\t// @if CK_DEBUG_MINIMAP // RectDrawer.draw( scrollableRootAncestorRect, { outlineColor: 'red' }, 'scrollableRootAncestor' );\n\t\t// @if CK_DEBUG_MINIMAP // RectDrawer.draw( editingRootRect, { outlineColor: 'green' }, 'editingRoot' );\n\n\t\t// The root is completely visible in the scrollable ancestor.\n\t\tif ( scrollableRootAncestorRect.contains( editingRootRect ) ) {\n\t\t\tscrollProgress = 0;\n\t\t} else {\n\t\t\tif ( editingRootRect.top > scrollableRootAncestorRect.top ) {\n\t\t\t\tscrollProgress = 0;\n\t\t\t} else {\n\t\t\t\tscrollProgress = ( editingRootRect.top - scrollableRootAncestorRect.top ) /\n\t\t\t\t\t( scrollableRootAncestorRect.height - editingRootRect.height );\n\n\t\t\t\tscrollProgress = Math.max( 0, Math.min( scrollProgress, 1 ) );\n\t\t\t}\n\t\t}\n\n\t\t// The intersection helps to change the tracker height when there is a lot of padding around the root.\n\t\t// Note: It is **essential** that the height is set first because the progress depends on the correct tracker height.\n\t\tminimapView.setPositionTrackerHeight( scrollableRootAncestorRect.getIntersection( editingRootRect )!.height );\n\t\tminimapView.setScrollProgress( scrollProgress );\n\t}\n}\n"]}